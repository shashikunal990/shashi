<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>reCAPTCHA v3 Demo</title>
  <script src="https://www.google.com/recaptcha/api.js?render=6LcoC8wrAAAAAGyTWrbQUP7rmKWONMYhK-oY2aZR"></script>
</head>
<body>
  <h2>reCAPTCHA v3 One-File Demo</h2>
  <button id="checkRecaptcha">Verify</button>

  <pre id="output"></pre>

  <script>
    document.getElementById("checkRecaptcha").addEventListener("click", function () {
      grecaptcha.ready(function () {
        grecaptcha.execute("6LcoC8wrAAAAAGyTWrbQUP7rmKWONMYhK-oY2aZR", { action: "submit" }).then(function (token) {
          fetch(window.location.origin + "/api/verify-recaptcha", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ token })
          })
          .then(res => res.json())
          .then(data => {
            document.getElementById("output").innerText = JSON.stringify(data, null, 2);
          });
        });
      });
    });
  </script>
</body>
</html>

